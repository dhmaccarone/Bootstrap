(()=>{var t,e,i={138:(t,e,i)=>{"use strict";i.d(e,{e:()=>r});const r=t=>{const e=document.cookie.split(";");for(const i of e){const[e,r]=i.trim().split("=");if(e===t)return decodeURIComponent(r)}return null}},221:(t,e,i)=>{"use strict";i.d(e,{cN:()=>l,nP:()=>c});var r=i(682);let n;var s,o;let a=Promise;null!=(s=window.NREUM)&&null!=(o=s.o)&&o.PR&&(a=window.NREUM.o.PR);class l extends a{static get[Symbol.species](){return Promise}constructor(t){super((e=>{window.setTimeout(e,t)}))}}n=Symbol.species;const c=function(t,e,i,n){let s;void 0===i&&(i=1e3),void 0===n&&(n=[]);const o=(t,e)=>!(!(0,r.e)(t,e)||null===t[e]||void 0===t[e]||!1!==n.includes(t[e]));return Promise.race([new l(i),new Promise((i=>{if(o(t,e))return i(t[e]);s=window.setInterval((()=>{if(o(t,e))return i(t[e])}),10)}))]).then((()=>{"number"==typeof s&&window.clearInterval(s)}))}},682:(t,e,i)=>{"use strict";i.d(e,{e:()=>r,l:()=>n});const r=(t,e)=>null!==t&&""!==e&&void 0!==s(t,e),n=(t,e)=>{if(null!==t&&""!==e)return s(t,e)};function s(t,e){if("string"!=typeof e)return;const i=e.split(/(?:\.)|(?=\[\d+\])/g),r=i.length;let n=0;for(;void 0!==t&&n<r;)t=t[o(i[n++])];return n&&n===r?t:void 0}function o(t){return/.*\[\d+\]$/.test(t)?t.replace(/\[|\]/g,""):t}},444:(t,e,i)=>{var r={"./abTasty":[197,197],"./abTasty.ts":[197,197],"./criteo":[578,578],"./criteo.ts":[578,578],"./dcm":[308,308],"./dcm.ts":[308,308],"./flashtalking":[247,247],"./flashtalking.ts":[247,247],"./googleAnalytics":[826,826],"./googleAnalytics.ts":[826,826],"./optimizelyX":[795,795],"./optimizelyX.ts":[795,795],"./quantcast":[71,71],"./quantcast.ts":[71,71],"./visualWebsiteOptimizer":[665,665],"./visualWebsiteOptimizer.ts":[665,665],"./webtrends":[758,758],"./webtrends.ts":[758,758]};function n(t){if(!i.o(r,t))return Promise.resolve().then((()=>{var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}));var e=r[t],n=e[0];return i.e(e[1]).then((()=>i(n)))}n.keys=()=>Object.keys(r),n.id=444,t.exports=n}},r={};function n(t){var e=r[t];if(void 0!==e)return e.exports;var s=r[t]={exports:{}};return i[t](s,s.exports,n),s.exports}n.m=i,n.d=(t,e)=>{for(var i in e)n.o(e,i)&&!n.o(t,i)&&Object.defineProperty(t,i,{enumerable:!0,get:e[i]})},n.f={},n.e=t=>Promise.all(Object.keys(n.f).reduce(((e,i)=>(n.f[i](t,e),e)),[])),n.u=t=>t+".js",n.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"==typeof window)return window}}(),n.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),t={},e="tracking-script:",n.l=(i,r,s,o)=>{if(t[i])t[i].push(r);else{var a,l;if(void 0!==s)for(var c=document.getElementsByTagName("script"),u=0;u<c.length;u++){var h=c[u];if(h.getAttribute("src")==i||h.getAttribute("data-webpack")==e+s){a=h;break}}a||(l=!0,(a=document.createElement("script")).charset="utf-8",a.timeout=120,n.nc&&a.setAttribute("nonce",n.nc),a.setAttribute("data-webpack",e+s),a.src=i),t[i]=[r];var d=(e,r)=>{a.onerror=a.onload=null,clearTimeout(f);var n=t[i];if(delete t[i],a.parentNode&&a.parentNode.removeChild(a),n&&n.forEach((t=>t(r))),e)return e(r)},f=setTimeout(d.bind(null,void 0,{type:"timeout",target:a}),12e4);a.onerror=d.bind(null,a.onerror),a.onload=d.bind(null,a.onload),l&&document.head.appendChild(a)}},n.r=t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},(()=>{var t;n.g.importScripts&&(t=n.g.location+"");var e=n.g.document;if(!t&&e&&(e.currentScript&&(t=e.currentScript.src),!t)){var i=e.getElementsByTagName("script");i.length&&(t=i[i.length-1].src)}if(!t)throw new Error("Automatic publicPath is not supported in this browser");t=t.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),n.p=t})(),(()=>{var t={59:0};n.f.j=(e,i)=>{var r=n.o(t,e)?t[e]:void 0;if(0!==r)if(r)i.push(r[2]);else{var s=new Promise(((i,n)=>r=t[e]=[i,n]));i.push(r[2]=s);var o=n.p+n.u(e),a=new Error;n.l(o,(i=>{if(n.o(t,e)&&(0!==(r=t[e])&&(t[e]=void 0),r)){var s=i&&("load"===i.type?"missing":i.type),o=i&&i.target&&i.target.src;a.message="Loading chunk "+e+" failed.\n("+s+": "+o+")",a.name="ChunkLoadError",a.type=s,a.request=o,r[1](a)}}),"chunk-"+e,e)}};var e=(e,i)=>{var r,s,[o,a,l]=i,c=0;if(o.some((e=>0!==t[e]))){for(r in a)n.o(a,r)&&(n.m[r]=a[r]);if(l)l(n)}for(e&&e(i);c<o.length;c++)s=o[c],n.o(t,s)&&t[s]&&t[s][0](),t[s]=0},i=self.webpackChunktracking_script=self.webpackChunktracking_script||[];i.forEach(e.bind(null,0)),i.push=e.bind(null,i.push.bind(i))})(),(()=>{"use strict";var t={};function e(t,e,i){!function(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}(t,e),e.set(t,i)}function i(t,e){return function(t,e){if(e.get)return e.get.call(t);return e.value}(t,s(t,e,"get"))}function r(t,e,i){return function(t,e,i){if(e.set)e.set.call(t,i);else{if(!e.writable)throw new TypeError("attempted to set read only private field");e.value=i}}(t,s(t,e,"set"),i),i}function s(t,e,i){if(!e.has(t))throw new TypeError("attempted to "+i+" private field on non-instance");return e.get(t)}n.r(t),n.d(t,{ChannelDetection:()=>y,CustomVariables:()=>ue,StorageApi:()=>qt,TrackedSites:()=>Bt,Visitor:()=>Te});var o=new WeakMap,a=new WeakMap,l=new WeakMap;class c{constructor(t,n,s){void 0===s&&(s={}),e(this,o,{writable:!0,value:void 0}),e(this,a,{writable:!0,value:void 0}),e(this,l,{writable:!0,value:{pv:2,v:"20220601",ua:navigator.userAgent}}),r(this,o,t),r(this,a,n),r(this,l,Object.assign({},i(this,l),s))}async get(t,e){void 0===t&&(t={}),void 0===e&&(e={});try{const r=new URL(`${i(this,o)}/${i(this,a)}`),n=Object.assign({},i(this,l),t);r.search=new URLSearchParams(n).toString();const s=await fetch(r.toString(),{cache:"no-cache",credentials:"omit",headers:e,referrerPolicy:"no-referrer"});if(s.ok)return s.json()}catch{return null}return null}sendBeacon(t){void 0===t&&(t={});const e=new URL(`${i(this,o)}/${i(this,a)}`),r=Object.assign({},i(this,l),t);e.search=new URLSearchParams(r).toString(),navigator.sendBeacon(e.toString())}}function u(t){return function(e,i,r){let n=null,s=[],o=[];const a=r.value;r.value=function(){n&&(window.clearTimeout(n),n=null);for(var e=arguments.length,i=new Array(e),r=0;r<e;r++)i[r]=arguments[r];return i.forEach(((t,e)=>{Array.isArray(t)?s[e]=[...s[e]||[],...t]:s[e]="object"!=typeof t?t:Object.assign({},s[e],t)})),n=window.setTimeout((()=>{const t=a.apply(this,s);o.forEach((e=>{e(t)})),o=[],s=[]}),t),new Promise((t=>{o.push(t)}))}}}const h=Symbol(),d=Symbol(),f=Symbol(),p=function(t,e){Object.defineProperty(t[e],h,{value:!0})},g=function(t,e){Object.defineProperty(t[e],d,{value:!0})},m=t=>"string"!=typeof t?"":t.replace(/\./g,"\\.").replace(/\*/g,".*").replace(/\?/g,".");var b,v,w;let y=(b=Ae("Visitor"),v=class{constructor(){var t,e,i,r,n=this;t=this,e="visitor",r=this,(i=w)&&Object.defineProperty(t,e,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(r):void 0}),this.channels=[],this._searchUserAgents={taginspector:"TagInspector"},this._searchDomains={semalt:["top1-seo-service.com"],sharebutton:["buttons-for-website.com"],bing:["bing"],google:["google"],yahoo:["yahoo","search.yahoo.com"],ask:["ask","tb.ask.com"],aol:["aol"],baidu:["baidu"],yandex:["yandex"],comcast:["search.comcast.net"],roadrunner:["search.rr.com"],mywebsearch:["mywebsearch.com"],sky:["search.sky.com"],lycos:["search.lycos"],bt:["search.bt.com"],avg:["isearch.avg.com"],duckduckgo:["duckduckgo.com"],searchincognito:["searchincognito.com"],searchlock:["searchlock.com"],searchthis:["searchthis.com"],myway:["search.myway.com"]},this._detectionMethods={direct:t=>""===this.visitor.referrer&&(t.srcRef="",!0),ppc:function(t,e){return void 0===e&&(e=[]),n._detectionMethods.tag(t,e)},ppcauto:(t,e)=>this.visitor.queryParams.has("gclid")&&this._detectionMethods.seo(t,e),seo:t=>{let e="";try{e=new URL(this.visitor.referrer).hostname}catch{}for(const[i,r]of Object.entries(this._searchDomains))for(const n of r)if(e.includes(n))return t.publisher=i,!0;for(const[e,i]of Object.entries(this._searchUserAgents))if(this.visitor.userAgent.includes(i))return t.publisher=e,!0;return!1},tag:function(t,e){void 0===e&&(e=[]);const i=n.visitor.queryParams,r=e.find((t=>i.has(t)));return!!r&&(t.srcRef=i.get(r)||void 0,!0)},utm:function(t,e){void 0===e&&(e=[]);const{queryParams:i}=n.visitor,r=i.get("utm_medium");return!(null===r||!e.includes(r))&&(t.srcRef=`${i.get("utm_source")||""}~${i.get("utm_campaign")||""}~${i.get("utm_term")||""}`,!0)},vref:function(t,e){void 0===e&&(e=[]);const{referrer:i}=n.visitor;if(""===i)return!1;let r="";try{r=new URL(i).hostname}catch{return!1}return 0===e.length?(t.srcRef=r,!0):!!e.find((e=>null!==new RegExp(`^${m(e)}$`,"i").exec(i)&&(t.srcRef=r,!0)))},ref:function(t,e){return void 0===e&&(e=[]),n._detectionMethods.vref(t,e)}}}setChannels(t){this.channels=t}detectChannel(){return this.channels.sort(((t,e)=>t.order-e.order)).find((t=>{var e;if(null!=(e=t.criteria)&&e.srcMode)for(const[e,i]of Object.entries(t.criteria.srcMode))if(this._detectionMethods[e]&&this._detectionMethods[e](t,i))return t.srcMode=e,!0;const{type:i}=t;return!(!this._detectionMethods[i]||!this._detectionMethods[i](t,[]))&&(t.srcMode=i,!0)}))}},E=v.prototype,S="visitor",k=[b],T={configurable:!0,enumerable:!0,writable:!0,initializer:null},N={},Object.keys(T).forEach((function(t){N[t]=T[t]})),N.enumerable=!!N.enumerable,N.configurable=!!N.configurable,("value"in N||N.initializer)&&(N.writable=!0),N=k.slice().reverse().reduce((function(t,e){return e(E,S,t)||t}),N),O&&void 0!==N.initializer&&(N.value=N.initializer?N.initializer.call(O):void 0,N.initializer=void 0),void 0===N.initializer&&(Object.defineProperty(E,S,N),N=null),w=N,v);var E,S,k,T,O,N;let A;!function(t){t.COOKIE="cookie",t.LOCAL_STORAGE="localStorage",t.SESSION_STORAGE="sessionStorage",t.MEMORY_STORAGE="memory"}(A||(A={}));var P=n(138);function I(t,e,i){M(t,e),e.set(t,i)}function M(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function j(t,e,i){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return i}function C(t,e){return _(t,L(t,e,"get"))}function D(t,e,i){return function(t,e,i){if(e.set)e.set.call(t,i);else{if(!e.writable)throw new TypeError("attempted to set read only private field");e.value=i}}(t,L(t,e,"set"),i),i}function L(t,e,i){if(!e.has(t))throw new TypeError("attempted to "+i+" private field on non-instance");return e.get(t)}function z(t,e,i){return function(t,e){if(t!==e)throw new TypeError("Private static access of wrong provenance")}(t,e),function(t,e){if(void 0===t)throw new TypeError("attempted to "+e+" private static field before its declaration")}(i,"get"),_(t,i)}function _(t,e){return e.get?e.get.call(t):e.value}var R=new WeakMap,x=new WeakMap,V=new WeakSet;class ${constructor(t,e){var i,r;if(M(i=this,r=V),r.add(i),I(this,R,{writable:!0,value:z($,$,U)}),this.supportsLargeStorage=!1,I(this,x,{writable:!0,value:31536e4}),D(this,R,`${z($,$,U)}${t}.`),!1===navigator.cookieEnabled)throw new Error("Cookies are not enabled.");try{if(this.set("testinfinitycookie","1"),"1"!==this.get("testinfinitycookie"))throw new Error;this.remove("testinfinitycookie")}catch(t){throw new Error("Browser does not allow storing cookies.")}"number"==typeof e&&D(this,x,e)}set(t,e,i){void 0===i&&(i=C(this,x)),document.cookie=`${j(this,V,W).call(this,t)}=${encodeURIComponent(e)}; secure; same-site=strict; path=/; max-age=${i}`}get(t){return(0,P.e)(j(this,V,W).call(this,t))}remove(t){this.set(t,"",-1)}getAll(){const t=document.cookie.split(";"),e={},i=new Date;i.setTime(Date.now()+1e3*C(this,x));const r=i.toISOString();for(const i of t){const[t,n]=i.trim().split("=");t.startsWith(C(this,R))&&(e[t.replace(C(this,R),"")]={value:n,expiry:r})}return e}}function W(t){return`${C(this,R)}${t}`}var U={writable:!0,value:"_its."};function F(t,e){H(t,e),e.add(t)}function q(t,e,i){H(t,e),e.set(t,i)}function H(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function J(t,e,i){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return i}function G(t,e){return Y(t,X(t,e,"get"))}function B(t,e,i){return function(t,e,i){if(e.set)e.set.call(t,i);else{if(!e.writable)throw new TypeError("attempted to set read only private field");e.value=i}}(t,X(t,e,"set"),i),i}function X(t,e,i){if(!e.has(t))throw new TypeError("attempted to "+i+" private field on non-instance");return e.get(t)}function K(t,e,i){return function(t,e){if(t!==e)throw new TypeError("Private static access of wrong provenance")}(t,e),function(t,e){if(void 0===t)throw new TypeError("attempted to "+e+" private static field before its declaration")}(i,"get"),Y(t,i)}function Y(t,e){return e.get?e.get.call(t):e.value}var Q=new WeakMap,Z=new WeakMap,tt=new WeakMap,et=new WeakSet,it=new WeakSet,rt=new WeakSet,nt=new WeakSet;class st{constructor(t,e,i){if(void 0===t&&(t=window.localStorage),F(this,nt),F(this,rt),F(this,it),F(this,et),q(this,Q,{writable:!0,value:K(st,st,ut)}),this.supportsLargeStorage=!0,q(this,Z,{writable:!0,value:void 0}),q(this,tt,{writable:!0,value:31536e4}),B(this,Q,`${K(st,st,ut)}.${e}`),!(t instanceof Storage))throw new Error("Invalid Storage type.");try{B(this,Z,t),null===G(this,Z).getItem(G(this,Q))&&G(this,Z).setItem(G(this,Q),"{}"),"number"==typeof i&&B(this,tt,i)}catch{throw new Error("Storage type is not available.")}}set(t,e,i){void 0===i&&(i=G(this,tt));const r=J(this,et,ot).call(this);r[t]={value:e,expiry:J(this,rt,lt).call(this,i)},J(this,it,at).call(this,r)}get(t){var e,i;const r=J(this,et,ot).call(this);return null!=r&&null!=(e=r[t])&&e.expiry&&J(this,nt,ct).call(this,r[t].expiry)?(this.remove(t),null):(null==r||null==(i=r[t])?void 0:i.value)||null}remove(t){const e=J(this,et,ot).call(this);null==e||delete e[t],J(this,it,at).call(this,e)}getAll(){const t={};for(const[e,{value:i,expiry:r}]of Object.entries(J(this,et,ot).call(this)))!1===J(this,nt,ct).call(this,r)&&(t[e]={value:i,expiry:r});return t}}function ot(){return JSON.parse(G(this,Z).getItem(G(this,Q))||"{}")}function at(t){G(this,Z).setItem(G(this,Q),JSON.stringify(t))}function lt(t){const e=new Date;return e.setTime(Date.now()+1e3*t),e.toISOString()}function ct(t){return new Date(t).getTime()<=Date.now()}var ut={writable:!0,value:"_its"};function ht(t,e){ft(t,e),e.add(t)}function dt(t,e,i){ft(t,e),e.set(t,i)}function ft(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function pt(t,e,i){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return i}function gt(t,e,i){return function(t,e,i){if(e.set)e.set.call(t,i);else{if(!e.writable)throw new TypeError("attempted to set read only private field");e.value=i}}(t,bt(t,e,"set"),i),i}function mt(t,e){return function(t,e){if(e.get)return e.get.call(t);return e.value}(t,bt(t,e,"get"))}function bt(t,e,i){if(!e.has(t))throw new TypeError("attempted to "+i+" private field on non-instance");return e.get(t)}var vt=new WeakMap,wt=new WeakMap,yt=new WeakMap,Et=new WeakSet,St=new WeakSet;class kt{constructor(t,e){ht(this,St),ht(this,Et),this.supportsLargeStorage=!0,dt(this,vt,{writable:!0,value:new Map}),dt(this,wt,{writable:!0,value:void 0}),dt(this,yt,{writable:!0,value:31536e4}),mt(this,wt)!==t&&(mt(this,vt).clear(),gt(this,wt,t)),"number"==typeof e&&gt(this,yt,e)}set(t,e,i){void 0===i&&(i=mt(this,yt)),mt(this,vt).set(t,{value:e,expiry:pt(this,Et,Tt).call(this,i)})}get(t){const e=mt(this,vt).get(t);return null!=e&&e.expiry&&pt(this,St,Ot).call(this,e.expiry)?(this.remove(t),null):(null==e?void 0:e.value)||null}remove(t){mt(this,vt).delete(t)}getAll(){const t={};for(const[e,{value:i,expiry:r}]of mt(this,vt).entries())!1===pt(this,St,Ot).call(this,r)&&(t[e]={value:i,expiry:r});return t}}function Tt(t){const e=new Date;return e.setTime(Date.now()+1e3*t),e.toISOString()}function Ot(t){return new Date(t).getTime()<=Date.now()}const Nt={[A.COOKIE]:$,[A.LOCAL_STORAGE]:class extends st{constructor(t,e){super(window.localStorage,t,e)}},[A.SESSION_STORAGE]:class extends st{constructor(t,e){super(window.sessionStorage,t,e)}},[A.MEMORY_STORAGE]:kt};var At=n(682);function Pt(t,e,i){It(t,e),e.set(t,i)}function It(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function Mt(t,e,i){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return i}function jt(t,e){return function(t,e){if(e.get)return e.get.call(t);return e.value}(t,Dt(t,e,"get"))}function Ct(t,e,i){return function(t,e,i){if(e.set)e.set.call(t,i);else{if(!e.writable)throw new TypeError("attempted to set read only private field");e.value=i}}(t,Dt(t,e,"set"),i),i}function Dt(t,e,i){if(!e.has(t))throw new TypeError("attempted to "+i+" private field on non-instance");return e.get(t)}var Lt,zt,_t,Rt,xt,Vt,$t=new WeakMap,Wt=new WeakMap,Ut=new WeakMap,Ft=new WeakSet;class qt{constructor(){var t,e;It(t=this,e=Ft),e.add(t),Pt(this,$t,{writable:!0,value:void 0}),Pt(this,Wt,{writable:!0,value:null}),Pt(this,Ut,{writable:!0,value:31536e4})}init(t,e,i){Ct(this,$t,new kt(t)),"number"==typeof i&&Ct(this,Ut,i);const r=jt(this,Wt),n=null==r?void 0:r.getAll();for(const i of e)try{Mt(this,Ft,Ht).call(this,i,t);break}catch(t){console.warn(t.toString())}if("object"==typeof n&&null!==r&&null!==jt(this,Wt)){for(const[t,{value:e,expiry:i}]of Object.entries(n)){r.remove(t);const n=Math.ceil((new Date(i).getTime()-Date.now())/1e3);jt(this,Wt).set(t,e,n)}for(const t in n)r.remove(t)}}getApi(t){return null===jt(this,Wt)||!1!==t&&!jt(this,Wt).supportsLargeStorage?jt(this,$t):jt(this,Wt)}get(t){var e;return(null==(e=jt(this,Wt))?void 0:e.get(t))||null}set(t,e,i){var r;return null==(r=jt(this,Wt))?void 0:r.set(t,e,i)}remove(t){var e;return null==(e=jt(this,Wt))?void 0:e.remove(t)}getAll(){var t;return(null==(t=jt(this,Wt))?void 0:t.getAll())||{}}}function Ht(t,e){if(!(0,At.e)(Nt,t))throw new Error("Unrecognised Storage API");Ct(this,Wt,new Nt[t](e,jt(this,Ut)))}function Jt(t,e){!function(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}(t,e),e.add(t)}function Gt(t,e,i){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return i}let Bt=(Lt=Ae("Visitor"),Rt=new WeakSet,xt=new WeakSet,Vt=new WeakSet,zt=class{constructor(){Jt(this,Vt),Jt(this,xt),Jt(this,Rt),this.taggingParam="_its",function(t,e,i,r){i&&Object.defineProperty(t,e,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(r):void 0})}(this,"visitor",_t,this),this.sites=[]}setSites(t){this.sites=t.map((t=>({id:t.id,domain:new RegExp(m(t.domain),"i"),path:new RegExp(m(t.path),"i"),autoTag:t.autoTag})))}tagExternalDestinations(){Gt(this,Rt,Xt).call(this,"a","href"),Gt(this,Rt,Xt).call(this,"form","action")}get currentSiteId(){const{hostname:t,pathname:e}=this.visitor;for(const{id:i,domain:r,path:n}of this.sites)if(r.test(t)&&n.test(e))return i}get destinationTagParams(){const{id:t,state:e}=this.visitor,i={vid:t,state:e},{currentSiteId:r}=this;return void 0!==r&&(i.siteId=r),i}getTaggedParams(){try{const{queryParams:t}=this.visitor;if(t.has(this.taggingParam)){const e=(t=>{try{return JSON.parse(decodeURIComponent(atob(t)))}catch{return null}})(t.get("_its"));if(null===e)return null;for(const{id:t}of this.sites)if(e.siteId===t)return e}}catch{return null}return null}},_t=function(t,e,i,r,n){var s={};return Object.keys(r).forEach((function(t){s[t]=r[t]})),s.enumerable=!!s.enumerable,s.configurable=!!s.configurable,("value"in s||s.initializer)&&(s.writable=!0),s=i.slice().reverse().reduce((function(i,r){return r(t,e,i)||i}),s),n&&void 0!==s.initializer&&(s.value=s.initializer?s.initializer.call(n):void 0,s.initializer=void 0),void 0===s.initializer&&(Object.defineProperty(t,e,s),s=null),s}(zt.prototype,"visitor",[Lt],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),zt);function Xt(t,e){const{hostname:i}=this.visitor,r=document.querySelectorAll(`${t}[${e}]`),{destinationTagParams:n}=this;for(const t of r){const r=t.getAttribute(e);if(null!==r)try{const s=new URL(r);if(s.hostname===i||"https:"!==s.protocol&&"http:"!==s.protocol)continue;Gt(this,xt,Kt).call(this,s)&&t.setAttribute(e,Gt(this,Vt,Yt).call(this,s,n))}catch(t){continue}}}function Kt(t){for(const{domain:e,path:i,autoTag:r}of this.sites)if(!0===r&&e.test(t.hostname)&&i.test(t.pathname))return!0;return!1}function Yt(t,e){var i;return t.searchParams.set(this.taggingParam,(i=e,btoa(encodeURIComponent(JSON.stringify(i))))),t.toString()}var Qt,Zt,te,ee,ie,re,ne;function se(t,e,i,r){i&&Object.defineProperty(t,e,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(r):void 0})}function oe(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function ae(t,e,i){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return i}function le(t,e){var i=function(t,e,i){if(!e.has(t))throw new TypeError("attempted to "+i+" private field on non-instance");return e.get(t)}(t,e,"get");return function(t,e){if(e.get)return e.get.call(t);return e.value}(t,i)}function ce(t,e,i,r,n){var s={};return Object.keys(r).forEach((function(t){s[t]=r[t]})),s.enumerable=!!s.enumerable,s.configurable=!!s.configurable,("value"in s||s.initializer)&&(s.writable=!0),s=i.slice().reverse().reduce((function(i,r){return r(t,e,i)||i}),s),n&&void 0!==s.initializer&&(s.value=s.initializer?s.initializer.call(n):void 0,s.initializer=void 0),void 0===s.initializer&&(Object.defineProperty(t,e,s),s=null),s}let ue=(Qt=Ae("Visitor"),Zt=Ae("StorageApi"),re=new WeakMap,ne=new WeakSet,te=class{constructor(){var t,e;oe(t=this,e=ne),e.add(t),function(t,e,i){oe(t,e),e.set(t,i)}(this,re,{writable:!0,value:new Map}),se(this,"visitor",ee,this),se(this,"storage",ie,this)}getVariable(t){if(le(this,re).has(t))return le(this,re).get(t);let e=this.storage.get("customVars");if("string"==typeof e){try{e=JSON.parse(e)}catch{e={}}var i;if(null!==e)return(null==(i=e[t])?void 0:i.value)||null}return null}setVariable(t,e,i){void 0===i&&(i="page"),"land"!==i?"visit"!==i?le(this,re).set(t,e):null===this.getVariable(t)&&ae(this,ne,he).call(this,t,{value:e,scope:i}):this.visitor.isLand&&ae(this,ne,he).call(this,t,{value:e,scope:i})}remove(t){le(this,re).delete(t);let e=this.storage.get("customVars")||{};return"string"==typeof e&&(e=JSON.parse(e)),delete e[t],this.storage.set("customVars",JSON.stringify(e)),!0}getAll(){const t={};for(const[e,i]of le(this,re).entries())t[`c_${e}`]=i;let e=this.storage.get("customVars");if("string"==typeof e)try{e=JSON.parse(e)}catch{e={}}if(null!==e)for(const[i,{value:r}]of Object.entries(e))t[`c_${i}`]=r;return t}reset(){le(this,re).clear(),this.visitor.isLand&&this.storage.remove("customVars")}},ee=ce(te.prototype,"visitor",[Qt],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ie=ce(te.prototype,"storage",[Zt],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),te);function he(t,e){let i=this.storage.get("customVars")||{};"string"==typeof i&&(i=JSON.parse(i)),i[t]=e,this.storage.set("customVars",JSON.stringify(i))}var de,fe,pe,ge,me,be,ve,we;function ye(t,e,i,r){i&&Object.defineProperty(t,e,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(r):void 0})}function Ee(t,e,i){!function(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}(t,e),e.set(t,i)}function Se(t,e){var i=function(t,e,i){if(!e.has(t))throw new TypeError("attempted to "+i+" private field on non-instance");return e.get(t)}(t,e,"get");return function(t,e){if(e.get)return e.get.call(t);return e.value}(t,i)}function ke(t,e,i,r,n){var s={};return Object.keys(r).forEach((function(t){s[t]=r[t]})),s.enumerable=!!s.enumerable,s.configurable=!!s.configurable,("value"in s||s.initializer)&&(s.writable=!0),s=i.slice().reverse().reduce((function(i,r){return r(t,e,i)||i}),s),n&&void 0!==s.initializer&&(s.value=s.initializer?s.initializer.call(n):void 0,s.initializer=void 0),void 0===s.initializer&&(Object.defineProperty(t,e,s),s=null),s}let Te=(de=Ae("ChannelDetection"),fe=Ae("StorageApi"),pe=Ae("CustomVariables"),we=new WeakMap,me=ke((ge=class{constructor(){Ee(this,we,{get:Oe,set:void 0}),this.isNew=!1,this.isLand=!1,this.isReland=!1,this.id="",this.state="",this.previousState="",ye(this,"channelDetection",me,this),ye(this,"storage",be,this),ye(this,"customVariables",ve,this)}get title(){return document.title}get userAgent(){return window.navigator.userAgent}get queryParams(){return new URLSearchParams(window.location.search)}get href(){return window.location.href}get hostname(){try{return new URL(this.href).hostname}catch(t){return""}}get pathname(){try{return new URL(this.href).pathname}catch(t){return""}}get referrer(){return document.referrer}get resolution(){return`${screen.width}x${screen.height}`}getCurrentTimestamp(){return Math.ceil(Date.now().valueOf()/1e3)}detectLand(){return""===this.referrer||!0===this.isNew||void 0===this.referrerSiteId&&Se(this,we)!==new URL(this.href).hostname}detectReland(){if(!1===this.isLand||!0===this.isNew)return!1;const t=this.storage.get("state");if(null!==t&&this.channel){const e={};for(const[,i,r]of t.matchAll(/(\w+)~(\w+)/g))e[i]=r;if((0,At.e)(e,"rlt")&&(0,At.e)(e,"land")){const t=/^2_(\d+)_\w+_(\w+)/.exec(e.land);if(null!==t){const[,i,r]=t;if(this.getCurrentTimestamp()-parseInt(e.rlt)<1800&&(r===this.getSrcHash()||"direct"===this.channel.srcMode&&"0"!==i||this.channel.id.toString()===i&&""===this.referrer)){e.rlt=this.getCurrentTimestamp().toString();const t=Object.entries(e).map((t=>{let[e,i]=t;return`${e}~${i}`})).join("~");return this.storage.set("state",t),!0}}}}return!1}getSrcHash(){if(this.channel){const{id:t="",publisher:e="",srcRef:i=""}=this.channel;return Ei(`${t}_${e}_${Se(this,we)}_${i}`)}return""}init(){this.detectChannel(),this.isNew=!1;let t=this.storage.get("vid");null===t&&(this.isNew=!0,t="function"==typeof crypto.randomUUID?crypto.randomUUID():([1e7]+-1e3+-4e3+-8e3+-1e11).replace(/[018]/g,(t=>(t^crypto.getRandomValues(new Uint8Array(1))[0]&15>>t/4).toString(16))),this.storage.set("vid",t)),this.id=t,this.isLand=this.detectLand(),this.isReland=this.detectReland();const e=this.storage.get("state");if((!0===this.isLand||null===e)&&!1===this.isReland){var i,r;const t=`rlt~${this.getCurrentTimestamp()}~land~2_${(null==(i=this.channel)?void 0:i.id)||0}_${(null==(r=this.channel)?void 0:r.type)||"unknown"}_${this.getSrcHash()}`;this.storage.set("state",t)}this.state=this.storage.get("state")||"",this.previousState=e||this.state}detectChannel(){return this.channel=this.channelDetection.detectChannel(),this.channel}getTrackingParams(t){const e={href:this.href,vref:this.referrer,t:this.title,res:this.resolution,"d[master]":`vid~${this.id}`,[`d[il${t}]`]:this.previousState,[`d[in${t}]`]:this.previousState,...this.customVariables.getAll()};return["isNew","isLand","isReland"].forEach((t=>{this[t]&&(e[t]="1")})),this.referrerSiteId&&(e.siteId=this.referrerSiteId.toString()),e}getAllocateParams(){return{ictvid:this.id,href:this.href,vref:this.referrer,state:this.state}}}).prototype,"channelDetection",[de],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),be=ke(ge.prototype,"storage",[fe],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ve=ke(ge.prototype,"customVariables",[pe],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ge);function Oe(){try{return new URL(this.referrer).hostname}catch(t){return""}}const Ne=new class{constructor(){this.container=new Map}get(e){return!1===this.container.has(e)&&this.container.set(e,new t[e]),this.container.get(e)}register(t,e){this.container.set(t,e)}reset(){this.container.clear()}};function Ae(t){return function(e,i){return Object.defineProperty(e,i,{get:function(){return Ne.get(t)}}),e}}function Pe(t,e){return function(i,r){const n=Ne.get("StorageApi");return n&&Object.defineProperty(i,r,{get:function(){return n.getApi(e).get(r)},set:function(i){return n.getApi(e).set(r,i,t)}}),i}}function Ie(t){return function(e,i,r){const n=r.value;r.value=function(){for(var e=arguments.length,i=new Array(e),r=0;r<e;r++)i[r]=arguments[r];const s=n.apply(this,i);return window.dispatchEvent(new Event(`Infinity${t}`)),s}}}var Me,je;const Ce="resolved",De="not found";let Le=(Me=u(50),je=class{constructor(t){this.allocations=new Map,this.allocatedNumberStore=new Map,this.numbersParam="nums",this.isEnabled=!0,this.transformNumbers=null,this.api=t}async getAllocatedNumber(t,e,i){void 0===i&&(i=null),!1===this.allocations.has(t)&&this.allocations.set(t,this.getNumberData(t,e,i));const r=this.allocations.get(t);return await r.promise,r}getNumberData(t,e,i){if(void 0===i&&(i=null),void 0===t||"string"!=typeof t||!0===this.allocatedNumberStore.has(t))return{value:null,state:De,customVarsSent:!0,promise:Promise.resolve({})};const r=this.getNumbers([t],Object.assign({},e,i)),n={value:null,promise:r,state:"pending",customVarsSent:!1};return r.then((e=>{if((0,At.e)(e,t))return n.state=Ce,n.value=e[t],void("string"==typeof n.value.e164Number&&""!==n.value.e164Number&&(this.allocatedNumberStore.set(n.value.e164Number,n.state),this.allocatedNumberStore.set(n.value.dynamicNumber.replace(/[^0-9+]+/g,""),n.state)));n.state=De})),n}updateCustomVariables(t,e){const i=[];for(const[t,e]of this.allocations.entries())!1===e.customVarsSent&&e.state!==De&&(i.push(t),e.customVarsSent=!0);i.length>0&&this.getNumbers(i,Object.assign({},t,e))}getAllocatedNumbers(){const t={};for(const[e,i]of this.allocations.entries())i.state===Ce&&(t[e]=i.value);return t}async getNumbers(t,e){if(0===t.length)return{};let i={};t.forEach((t=>{t&&""!==t&&(i[t]=t)})),"function"==typeof this.transformNumbers&&(i=await this.transformNumbers(t));const r=await this.api.get({...e,[this.numbersParam]:Object.keys(i).filter((t=>"string"==typeof t)).join(",")},{"Content-Type":"application/json"});if(null===r)return{};const{allocations:n=[],disableNumberReplacement:s=!1}=r;!0===s&&(this.isEnabled=!1);const o={};return n.forEach((t=>{let{dynamicNumber:e,e164Number:r,identifier:n}=t;o[i[n]]={dynamicNumber:e,e164Number:r}})),o}},function(t,e,i,r,n){var s={};Object.keys(r).forEach((function(t){s[t]=r[t]})),s.enumerable=!!s.enumerable,s.configurable=!!s.configurable,("value"in s||s.initializer)&&(s.writable=!0),s=i.slice().reverse().reduce((function(i,r){return r(t,e,i)||i}),s),n&&void 0!==s.initializer&&(s.value=s.initializer?s.initializer.call(n):void 0,s.initializer=void 0),void 0===s.initializer&&(Object.defineProperty(t,e,s),s=null)}(je.prototype,"getNumbers",[Me],Object.getOwnPropertyDescriptor(je.prototype,"getNumbers"),je.prototype),je);const ze=(t,e,i)=>{!0!==i.startsWith("+")&&!0!==i.startsWith("00")&&(t=t.slice(t.length-e.length),(e.startsWith("0")||e.startsWith("1"))&&(t=`${e[0]}${t.slice(1)}`)),i.startsWith("00")&&(t=t.replace(/^\+/,"00"));let r=0;return i.split("").map((e=>{if(/\+|\d/.exec(e)){const e=t[r];return r++,e}return e})).join("")};class _e{constructor(t,e,i){void 0===i&&(i={});const r=!0===i.placeholderMode;this.node=t,this.text=e,this.element=this.getElement(r,i.selector),this.number=this.getNumber(r,i.selectorMap)}getNumber(t,e){if(void 0===e&&(e={}),t){var i;for(const[t,i]of Object.entries(e))if(this.element&&this.element.matches(t))return i;const[t,r]=/(?:rTapNumber|adinsightnumber)(\d+)/i.exec((null==(i=this.element)?void 0:i.className)||"")||[];return r}return this.text.replace(/[^0-9+]+/g,"")}getElement(t,e){if(void 0===e&&(e=""),t){if(this.node instanceof HTMLElement)return this.node;let t=null;for(t=this.node instanceof Node?this.node.parentElement:this.node;null!==t&&!1===t.matches(e);)t=t.parentElement;return t}return this.node.parentElement}replaceNumber(t,e){var i;if(this.allocationState=t,t.state!==Ce||void 0===(null==(i=t.value)?void 0:i.dynamicNumber))return;let{dynamicNumber:r}=t.value;if(e.autoFormat&&(r=ze(t.value.e164Number,this.number,this.text)),e.classless){const t=new RegExp(`\\(?${this.number.split("").join("[^\\d]*").replace("+","\\+")}`);this.node.textContent=(this.node.textContent||this.number).replace(t,r)}else this.element&&(this.element.textContent=r)}}class Re{constructor(t,e){void 0===e&&(e={});const i=!0===e.placeholderMode;this.node=t,this.number=this.getNumber(i,e.selectorMap)}getNumber(t,e){if(void 0===e&&(e={}),t){for(const[t,i]of Object.entries(e))if(this.element&&this.element.matches(t))return i;const[t,i]=/(?:rTapNumber|adinsightnumber)(\d+)/i.exec(this.element.className)||[];return i}return this.href.replace(/[^0-9+]+/g,"")}get element(){return this.node}get href(){return this.node.href}replaceNumber(t){var e;this.allocationState=t,t.state===Ce&&null!=(e=t.value)&&e.e164Number&&(this.node.href=`tel:${t.value.e164Number}`)}}class xe{constructor(t){var e;this.node=t,this.text=t.dataset.infinityNumber||"",this.number=null==(e=this.text)?void 0:e.replace(/[^0-9+]+/g,"")}get element(){return this.node}replaceNumber(t,e){var i;if(this.allocationState=t,t.state!==Ce||void 0===(null==(i=t.value)?void 0:i.dynamicNumber))return;let{dynamicNumber:r}=t.value;e.autoFormat&&(r=ze(t.value.e164Number,this.number,this.text)),this.node.innerHTML=r}}const Ve=t=>{const e={visibleOnly:!1,minLength:8,maxLength:13,get match(){const t=(Number.isInteger(this.minLength)&&this.minLength>0?this.minLength:8)-1,e=(Number.isInteger(this.maxLength)&&this.maxLength>t?this.maxLength:13)-1;return new RegExp(`(?:\\(?)(?:\\+?)\\d(((?:[) ])?(?:[( ]?)\\d){${t},${e}}|(\\.)?((?:[ )\\-–‒—―])?(?:[ )\\-–‒—―])?(?:[-–‒—―( ]?)\\d){${t},${e}}|(-–‒—―)?((?:[).])?(?:[(/]?)\\d){${t},${e}})`,"g")},classless:!0,observeChanges:!0,selector:".InfinityNumber",storage:[A.LOCAL_STORAGE,A.COOKIE,A.SESSION_STORAGE],autoFormat:!1};return(!0===t.classless||!1===(0,At.e)(t,"classless")&&!0===e.classless)&&delete e.selector,!0!==t.classless&&!1===(0,At.e)(t,"classless")&&!0!==e.classless&&(e.match=/.*/),Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)),e};function $e(t,e){Ue(t,e),e.add(t)}function We(t,e,i){Ue(t,e),e.set(t,i)}function Ue(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function Fe(t,e,i){return function(t,e,i){if(e.set)e.set.call(t,i);else{if(!e.writable)throw new TypeError("attempted to set read only private field");e.value=i}}(t,Ge(t,e,"set"),i),i}function qe(t,e,i){return function(t,e){if(t!==e)throw new TypeError("Private static access of wrong provenance")}(t,e),function(t,e){if(void 0===t)throw new TypeError("attempted to "+e+" private static field before its declaration")}(i,"get"),Be(t,i)}function He(t,e,i){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return i}function Je(t,e){return Be(t,Ge(t,e,"get"))}function Ge(t,e,i){if(!e.has(t))throw new TypeError("attempted to "+i+" private field on non-instance");return e.get(t)}function Be(t,e){return e.get?e.get.call(t):e.value}const Xe=t=>{try{return Array.from(document.querySelectorAll(t))}catch{return[]}};var Ke=new WeakMap,Ye=new WeakMap,Qe=new WeakMap,Ze=new WeakMap,ti=new WeakSet,ei=new WeakSet,ii=new WeakSet,ri=new WeakSet;class ni{constructor(){$e(this,ri),$e(this,ii),$e(this,ei),$e(this,ti),We(this,Ke,{writable:!0,value:null}),We(this,Ye,{writable:!0,value:null}),We(this,Qe,{writable:!0,value:[]}),We(this,Ze,{writable:!0,value:new Map})}ignoreElement(t){Je(this,Ze).set(t.node,t)}findNumbersInPage(t,e){if(!t.selector)return He(this,ti,si).call(this,document.body,t,e);Xe(t.selector).flatMap((i=>He(this,ti,si).call(this,i,t,e)))}observeChanges(t,e){Je(this,Ke)||(Fe(this,Ke,new MutationObserver((i=>{i.forEach((i=>{"childList"===i.type&&i.addedNodes.forEach((i=>{if(null!==i.parentElement&&!1===Je(this,Ze).has(i)&&!1===Je(this,Ze).has(i.parentElement)&&!1===qe(ni,ni,ci).includes(i.nodeName.toLowerCase())&&!1===qe(ni,ni,ci).includes(i.parentElement.nodeName.toLowerCase())){if(He(this,ii,ai).call(this,i,t.selector))return He(this,ti,si).call(this,i.parentElement,t,e);Xe(t.selector).flatMap((i=>He(this,ti,si).call(this,i,t,e)))}}))}))}))),Je(this,Ke).observe(document.body,{attributes:!1,childList:!0,subtree:!0}))}getFoundElements(){return Je(this,Ze)}}function si(t,e,i){const r=e.match||Ve({}).match,n=document.createNodeIterator(t,NodeFilter.SHOW_TEXT|NodeFilter.SHOW_ELEMENT,{acceptNode:t=>{if(Je(this,Ze).has(t)||t.parentElement&&qe(ni,ni,ci).includes(t.parentElement.nodeName.toLowerCase()))return NodeFilter.FILTER_REJECT;if(t.nodeType===Node.TEXT_NODE)return!1===r.test(t.textContent||"")?NodeFilter.FILTER_REJECT:NodeFilter.FILTER_ACCEPT;if(t.nodeType===Node.ELEMENT_NODE){if(t instanceof HTMLAnchorElement&&He(this,ei,oi).call(this,t,e))return NodeFilter.FILTER_ACCEPT;if(!0===e.placeholderMode&&He(this,ii,ai).call(this,t,e.selector))return NodeFilter.FILTER_ACCEPT;if(t instanceof HTMLElement&&"infinityNumber"in t.dataset)return NodeFilter.FILTER_ACCEPT}return NodeFilter.FILTER_REJECT}}),s=[];let o=n.nextNode();for(;o;){if(o instanceof HTMLAnchorElement&&s.push(new Re(o,e)),o instanceof HTMLElement&&"infinityNumber"in o.dataset&&s.push(new xe(o)),o instanceof HTMLElement&&!0===e.placeholderMode&&He(this,ii,ai).call(this,o,e.selector)&&0===o.childNodes.length&&s.push(new _e(o,"",e)),o&&o.nodeType===Node.TEXT_NODE){var a;const t=((null==(a=o)?void 0:a.textContent)||"").match(r);t&&t.forEach((t=>{o&&s.push(new _e(o,t,e))}))}o=n.nextNode()}s.forEach((t=>{Je(this,Ze).set(t.node,t)})),e.visibleOnly?He(this,ri,li).call(this,s,i):i(s)}function oi(t,e){const i=t.getAttribute("href");return null!==i&&0===i.indexOf("tel:")&&e.match instanceof RegExp&&null!==i.replace("tel:","").match(e.match)}function ai(t,e){if(void 0===e)return!0;if(t.nodeType===Node.TEXT_NODE){if(null===t.parentElement)return!1;t=t.parentElement}return t instanceof HTMLElement&&"string"==typeof e&&(t.matches(e)||null!==t.closest(e))}function li(t,e){null===Je(this,Ye)&&Fe(this,Ye,new IntersectionObserver((t=>{for(const i of t){if(!1===i.isIntersecting)continue;const t=Je(this,Qe).filter((t=>i.target===t.element));e(t),t.forEach((t=>{const e=Je(this,Qe).indexOf(t);e>=0&&Je(this,Qe).splice(e,1)})),null!==Je(this,Ye)&&Je(this,Ye).unobserve(i.target)}0===Je(this,Qe).length&&null!==Je(this,Ye)&&(Je(this,Ye).disconnect(),Fe(this,Ye,null))}),{rootMargin:"100px",threshold:1})),t.forEach((t=>{null!==Je(this,Ye)&&(Je(this,Qe).push(t),null!==t.element&&Je(this,Ye).observe(t.element))}))}var ci={writable:!0,value:["canvas","embed","head","html","iframe","img","link","meta","noscript","object","optgroup","script","style","svg","title","video"]};function ui(t,e,i){!function(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}(t,e),e.set(t,i)}function hi(t,e){return function(t,e){if(e.get)return e.get.call(t);return e.value}(t,fi(t,e,"get"))}function di(t,e,i){return function(t,e,i){if(e.set)e.set.call(t,i);else{if(!e.writable)throw new TypeError("attempted to set read only private field");e.value=i}}(t,fi(t,e,"set"),i),i}function fi(t,e,i){if(!e.has(t))throw new TypeError("attempted to "+i+" private field on non-instance");return e.get(t)}var pi=new WeakMap,gi=new WeakMap;class mi{constructor(t,e){void 0===t&&(t=[]),this.pending=[],this.history=[],this.isProcessing=!1,ui(this,pi,{writable:!0,value:void 0}),ui(this,gi,{writable:!0,value:{get:function(t,e){return"push"===e?e=>{let[i,...r]=e;if("function"==typeof hi(this,pi)[i]&&!0===hi(this,pi)[i][d]){const e=new Promise((e=>{Array.prototype.push.apply(t,[{method:i,args:r,resolve:e}])}));return!1===this.isProcessing&&hi(this,pi).isInitialised&&this.run(),e}if("function"==typeof hi(this,pi)[i]&&!0===hi(this,pi)[i][h])return this.history.push([i,...r]),hi(this,pi)[i].call(hi(this,pi),...r)}:t[e]}.bind(this)}}),di(this,pi,e),Array.isArray(t)&&(this.pending=t),window._its&&(window._its.queue=new Proxy(this.pending,hi(this,gi)))}async run(){if(hi(this,pi)&&this.pending.length>0&&!1===this.isProcessing){this.isProcessing=!0;let t=this.pending.shift();if(Array.isArray(t)||Symbol.iterator in t){const[e,...i]=t;t={method:e,args:i}}if(this.history.push([t.method,...t.args]),"function"==typeof hi(this,pi)[t.method]&&!0===hi(this,pi)[t.method][h]){const e=hi(this,pi)[t.method].call(hi(this,pi),...t.args);!0===hi(this,pi)[t.method][f]&&await e,"function"==typeof t.resolve&&t.resolve(e)}return this.isProcessing=!1,this.run()}}}const bi=["0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f"],vi=(t,e)=>{let i=t[0],r=t[1],n=t[2],s=t[3];i+=(r&n|~r&s)+e[0]-680876936|0,i=(i<<7|i>>>25)+r|0,s+=(i&r|~i&n)+e[1]-389564586|0,s=(s<<12|s>>>20)+i|0,n+=(s&i|~s&r)+e[2]+606105819|0,n=(n<<17|n>>>15)+s|0,r+=(n&s|~n&i)+e[3]-1044525330|0,r=(r<<22|r>>>10)+n|0,i+=(r&n|~r&s)+e[4]-176418897|0,i=(i<<7|i>>>25)+r|0,s+=(i&r|~i&n)+e[5]+1200080426|0,s=(s<<12|s>>>20)+i|0,n+=(s&i|~s&r)+e[6]-1473231341|0,n=(n<<17|n>>>15)+s|0,r+=(n&s|~n&i)+e[7]-45705983|0,r=(r<<22|r>>>10)+n|0,i+=(r&n|~r&s)+e[8]+1770035416|0,i=(i<<7|i>>>25)+r|0,s+=(i&r|~i&n)+e[9]-1958414417|0,s=(s<<12|s>>>20)+i|0,n+=(s&i|~s&r)+e[10]-42063|0,n=(n<<17|n>>>15)+s|0,r+=(n&s|~n&i)+e[11]-1990404162|0,r=(r<<22|r>>>10)+n|0,i+=(r&n|~r&s)+e[12]+1804603682|0,i=(i<<7|i>>>25)+r|0,s+=(i&r|~i&n)+e[13]-40341101|0,s=(s<<12|s>>>20)+i|0,n+=(s&i|~s&r)+e[14]-1502002290|0,n=(n<<17|n>>>15)+s|0,r+=(n&s|~n&i)+e[15]+1236535329|0,r=(r<<22|r>>>10)+n|0,i+=(r&s|n&~s)+e[1]-165796510|0,i=(i<<5|i>>>27)+r|0,s+=(i&n|r&~n)+e[6]-1069501632|0,s=(s<<9|s>>>23)+i|0,n+=(s&r|i&~r)+e[11]+643717713|0,n=(n<<14|n>>>18)+s|0,r+=(n&i|s&~i)+e[0]-373897302|0,r=(r<<20|r>>>12)+n|0,i+=(r&s|n&~s)+e[5]-701558691|0,i=(i<<5|i>>>27)+r|0,s+=(i&n|r&~n)+e[10]+38016083|0,s=(s<<9|s>>>23)+i|0,n+=(s&r|i&~r)+e[15]-660478335|0,n=(n<<14|n>>>18)+s|0,r+=(n&i|s&~i)+e[4]-405537848|0,r=(r<<20|r>>>12)+n|0,i+=(r&s|n&~s)+e[9]+568446438|0,i=(i<<5|i>>>27)+r|0,s+=(i&n|r&~n)+e[14]-1019803690|0,s=(s<<9|s>>>23)+i|0,n+=(s&r|i&~r)+e[3]-187363961|0,n=(n<<14|n>>>18)+s|0,r+=(n&i|s&~i)+e[8]+1163531501|0,r=(r<<20|r>>>12)+n|0,i+=(r&s|n&~s)+e[13]-1444681467|0,i=(i<<5|i>>>27)+r|0,s+=(i&n|r&~n)+e[2]-51403784|0,s=(s<<9|s>>>23)+i|0,n+=(s&r|i&~r)+e[7]+1735328473|0,n=(n<<14|n>>>18)+s|0,r+=(n&i|s&~i)+e[12]-1926607734|0,r=(r<<20|r>>>12)+n|0,i+=(r^n^s)+e[5]-378558|0,i=(i<<4|i>>>28)+r|0,s+=(i^r^n)+e[8]-2022574463|0,s=(s<<11|s>>>21)+i|0,n+=(s^i^r)+e[11]+1839030562|0,n=(n<<16|n>>>16)+s|0,r+=(n^s^i)+e[14]-35309556|0,r=(r<<23|r>>>9)+n|0,i+=(r^n^s)+e[1]-1530992060|0,i=(i<<4|i>>>28)+r|0,s+=(i^r^n)+e[4]+1272893353|0,s=(s<<11|s>>>21)+i|0,n+=(s^i^r)+e[7]-155497632|0,n=(n<<16|n>>>16)+s|0,r+=(n^s^i)+e[10]-1094730640|0,r=(r<<23|r>>>9)+n|0,i+=(r^n^s)+e[13]+681279174|0,i=(i<<4|i>>>28)+r|0,s+=(i^r^n)+e[0]-358537222|0,s=(s<<11|s>>>21)+i|0,n+=(s^i^r)+e[3]-722521979|0,n=(n<<16|n>>>16)+s|0,r+=(n^s^i)+e[6]+76029189|0,r=(r<<23|r>>>9)+n|0,i+=(r^n^s)+e[9]-640364487|0,i=(i<<4|i>>>28)+r|0,s+=(i^r^n)+e[12]-421815835|0,s=(s<<11|s>>>21)+i|0,n+=(s^i^r)+e[15]+530742520|0,n=(n<<16|n>>>16)+s|0,r+=(n^s^i)+e[2]-995338651|0,r=(r<<23|r>>>9)+n|0,i+=(n^(r|~s))+e[0]-198630844|0,i=(i<<6|i>>>26)+r|0,s+=(r^(i|~n))+e[7]+1126891415|0,s=(s<<10|s>>>22)+i|0,n+=(i^(s|~r))+e[14]-1416354905|0,n=(n<<15|n>>>17)+s|0,r+=(s^(n|~i))+e[5]-57434055|0,r=(r<<21|r>>>11)+n|0,i+=(n^(r|~s))+e[12]+1700485571|0,i=(i<<6|i>>>26)+r|0,s+=(r^(i|~n))+e[3]-1894986606|0,s=(s<<10|s>>>22)+i|0,n+=(i^(s|~r))+e[10]-1051523|0,n=(n<<15|n>>>17)+s|0,r+=(s^(n|~i))+e[1]-2054922799|0,r=(r<<21|r>>>11)+n|0,i+=(n^(r|~s))+e[8]+1873313359|0,i=(i<<6|i>>>26)+r|0,s+=(r^(i|~n))+e[15]-30611744|0,s=(s<<10|s>>>22)+i|0,n+=(i^(s|~r))+e[6]-1560198380|0,n=(n<<15|n>>>17)+s|0,r+=(s^(n|~i))+e[13]+1309151649|0,r=(r<<21|r>>>11)+n|0,i+=(n^(r|~s))+e[4]-145523070|0,i=(i<<6|i>>>26)+r|0,s+=(r^(i|~n))+e[11]-1120210379|0,s=(s<<10|s>>>22)+i|0,n+=(i^(s|~r))+e[2]+718787259|0,n=(n<<15|n>>>17)+s|0,r+=(s^(n|~i))+e[9]-343485551|0,r=(r<<21|r>>>11)+n|0,t[0]=i+t[0]|0,t[1]=r+t[1]|0,t[2]=n+t[2]|0,t[3]=s+t[3]|0},wi=t=>{const e=[];for(let i=0;i<64;i+=4)e[i>>2]=t.charCodeAt(i)+(t.charCodeAt(i+1)<<8)+(t.charCodeAt(i+2)<<16)+(t.charCodeAt(i+3)<<24);return e},yi=t=>{let e,i="";for(e=0;e<4;e+=1)i+=bi[t>>8*e+4&15]+bi[t>>8*e&15];return i},Ei=t=>{const e=(t=>{let{length:e}=t;const i=[1732584193,-271733879,-1732584194,271733878];let r=0;for(r=64;r<=e;r+=64)vi(i,wi(t.substring(r-64,r)));e=(t=t.substring(r-64)).length;const n=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(r=0;r<e;r+=1)n[r>>2]|=t.charCodeAt(r)<<(r%4<<3);if(n[r>>2]|=128<<(r%4<<3),r>55)for(vi(i,n),r=0;r<16;r+=1)n[r]=0;let s=8*e;s=s.toString(16).match(/(.*?)(.{0,8})$/);const o=parseInt(s[2],16),a=parseInt(s[1],16)||0;return n[14]=o,n[15]=a,vi(i,n),i})((t=>(/[\u0080-\uFFFF]/.test(t)&&(t=unescape(encodeURIComponent(t))),t))(t));return(t=>{for(let e=0;e<t.length;e+=1)t[e]=yi(t[e]);return t.join("")})(e)};var Si,ki,Ti,Oi,Ni,Ai,Pi,Ii,Mi,ji,Ci,Di,Li,zi,_i,Ri,xi,Vi,$i,Wi,Ui,Fi,qi,Hi,Ji,Gi=n(221);function Bi(t,e,i,r){i&&Object.defineProperty(t,e,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(r):void 0})}function Xi(t,e,i){Ki(t,e),e.set(t,i)}function Ki(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function Yi(t,e,i){return function(t,e,i){if(e.set)e.set.call(t,i);else{if(!e.writable)throw new TypeError("attempted to set read only private field");e.value=i}}(t,tr(t,e,"set"),i),i}function Qi(t,e,i){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return i}function Zi(t,e){return function(t,e){if(e.get)return e.get.call(t);return e.value}(t,tr(t,e,"get"))}function tr(t,e,i){if(!e.has(t))throw new TypeError("attempted to "+i+" private field on non-instance");return e.get(t)}function er(t,e,i,r,n){var s={};return Object.keys(r).forEach((function(t){s[t]=r[t]})),s.enumerable=!!s.enumerable,s.configurable=!!s.configurable,("value"in s||s.initializer)&&(s.writable=!0),s=i.slice().reverse().reduce((function(i,r){return r(t,e,i)||i}),s),n&&void 0!==s.initializer&&(s.value=s.initializer?s.initializer.call(n):void 0,s.initializer=void 0),void 0===s.initializer&&(Object.defineProperty(t,e,s),s=null),s}const{warn:ir}=console;let rr;!function(t){t[t.Debug=1]="Debug",t[t.Channels=2]="Channels",t[t.Integrations=4]="Integrations",t[t.TrackedSites=8]="TrackedSites"}(rr||(rr={}));let nr=(Si=Ae("StorageApi"),ki=Ae("Visitor"),Ti=Ae("ChannelDetection"),Oi=Ae("TrackedSites"),Ni=Ae("CustomVariables"),Ai=Pe(3600,!0),Pi=Pe(900,!0),Ii=Pe(3600,!0),Mi=Ie("Loaded"),ji=Ie("Tracked"),Ci=Ie("Ready"),Di=u(50),Li=Ie("Allocated"),qi=new WeakMap,Hi=new WeakMap,Ji=new WeakSet,zi=class{constructor(t){var e,i;Ki(e=this,i=Ji),i.add(e),this.installationId=null,this.isInitialised=!1,this.isSpider=!1,this.integrationsResolved=!1,this.debugMode=!1,this.debugToken=null,this.debugMessages=[],this.config={},this.queue=[],Xi(this,qi,{writable:!0,value:[]}),this.allocateApi=new c("https://nas.lon.infinity-tracking.com","allocate",{pv:"3",autoformat:"1"}),this.trackApi=new c("https://ict.infinity-tracking.net","track"),this.triggerApi=new c("https://ict.infinity-tracking.net","trig"),this.infoApi=new c("https://web.lon.infinity-tracking.com","v3/info",{pv:"3"}),this.numberAllocation=new Le(this.allocateApi),Xi(this,Hi,{writable:!0,value:new ni}),Bi(this,"storage",_i,this),Bi(this,"visitor",Ri,this),Bi(this,"channelDetection",xi,this),Bi(this,"trackedSites",Vi,this),Bi(this,"customVariables",$i,this),Bi(this,"channels",Wi,this),Bi(this,"sites",Ui,this),Bi(this,"integrations",Fi,this),this.featuresToLoad={channels:rr.Channels,sites:rr.TrackedSites,integrations:rr.Integrations},this.queue=new mi(t,this)}run(){this.queue.run()}getVariable(t){return this.customVariables.getVariable(t)}async getVisitorId(){return await(0,Gi.nP)(this.visitor,"id",1e3,[""]),this.visitor.id}setVariable(t,e,i){void 0===i&&(i="page"),(0,At.e)(e,"type")&&(0,At.e)(e,"key")&&("cookie"===e.type&&(e=(0,P.e)(e.key)),"global"===e.type&&(e=(0,At.l)(window,e.key))),"string"==typeof e&&""!==e&&(this.addDebugMessage("Setting custom variable",t,e,i),this.customVariables.setVariable(t,e,i))}getAllocatedNumbers(){return this.numberAllocation.getAllocatedNumbers()}getNumberElements(){return Zi(this,Hi).getFoundElements()}async init(t,e){if(void 0===e&&(e={}),!t)return void ir("Infinity Tracking must be initialised with an installation ID");if(this.isInitialised)return void ir("Infinity Tracking cannot be re-initialised");this.config=Ve(e),this.storage.init(t,this.config.storage||[],this.config.storageExpiry);const i=await this.loadConfig(t);if(null===i)return void this.debugMessages.push(["Failed to load installation config, unable to continue"]);this.installationId=(null==i?void 0:i.installation)||t,Object.assign(this.config,i),this.addDebugMessage("App Config:",this.config),this.trackedSites.setSites(this.sites||[]);const r=this.trackedSites.getTaggedParams();if(null!==r){const{siteId:t,vid:e,state:i}=r;"string"==typeof e&&"number"==typeof t&&"string"==typeof i&&(this.storage.set("vid",e),this.visitor.referrerSiteId=t,this.storage.set("state",i))}this.channelDetection.setChannels(this.channels||[]),this.visitor.init(),this.customVariables.reset(),this.isInitialised=!0,"loading"!==document.readyState?this.onPageLoad():document.addEventListener("DOMContentLoaded",this.onPageLoad.bind(this),{passive:!0,once:!0})}async beforeTrack(){if(!this.integrationsResolved){if(Array.isArray(this.integrations)&&this.integrations.length>0)try{await Promise.race([new Gi.cN(1e3),Promise.allSettled(this.integrations.map((t=>this.resolveIntegrationValue(t))))])}catch(t){this.addDebugMessage("rejected: ",t)}this.integrationsResolved=!0}}async track(t){var e;(void 0===t&&(t=1e3),this.visitor&&this.installationId)&&("number"!=typeof t&&(t=0),await Promise.allSettled([this.beforeTrack(),new Gi.cN(t)]),await this.trackVisitor(),this.numberAllocation.updateCustomVariables({igrp:this.installationId,...null==(e=this.visitor)?void 0:e.getAllocateParams()},this.customVariables.getAll()),this.visitor.isNew=!1)}async trackVisitor(){if(this.visitor&&this.installationId){const t=await this.trackApi.get({igrp:this.installationId,...this.visitor.getTrackingParams(this.installationId)});if(Array.isArray(t)){const e=t.find((t=>{let[e,i]=t;return"_storeItem"===e&&i===`il${this.installationId}`}));if(Array.isArray(e)){const[,,t]=e;this.storage.get("state")!==t&&(this.storage.set("state",t),this.visitor.state=t)}}this.visitor.previousState=this.visitor.state}}setStorage(t,e){void 0===e&&(e=this.config.storageExpiry),this.config.storageExpiry=e,this.config.storage=t,this.installationId&&this.storage.init(this.installationId,this.config.storage||[],this.config.storageExpiry)}trigger(t,e){void 0===e&&(e={}),this.visitor&&this.installationId&&"string"==typeof t&&t.length>0&&this.triggerApi.sendBeacon({igrp:this.installationId,act:t,...this.visitor.getTrackingParams(this.installationId),...e})}onPageLoad(){Zi(this,Hi).findNumbersInPage(this.config,Qi(this,Ji,sr).bind(this)),this.trackedSites.tagExternalDestinations(),this.config.observeChanges&&Zi(this,Hi).observeChanges(this.config,Qi(this,Ji,sr).bind(this))}async loadConfig(t){let e=0;for(const[t,i]of Object.entries(this.featuresToLoad))void 0!==this[t]&&null!==this[t]||(e|=i);const i={features:e.toString(),inf:t};null!==this.debugToken&&(e|=rr.Debug,i.features=e.toString(),i.debug=this.debugToken);const r=await this.infoApi.get(i,{"Content-Type":"application/json"});if(null===r)return null;const{payload:n={},debug:s}=r,{channels:o,sites:a,integrations:l,spiders:c,...u}=n;Array.isArray(c)&&c.length>0&&(this.isSpider=!0),e&rr.Debug&&Array.isArray(s)&&(this.debugMode=!0,s.forEach((t=>{this.addDebugMessage(t)})));for(const[t,i]of Object.entries(this.featuresToLoad))e&i&&(this[t]=n[t]||[]);return u}async resolveIntegrationValue(t){if((0,At.e)(t,"cookie")){const e=(0,P.e)(t.cookie);null!==e&&this.setVariable(t.variable,e)}else if((0,At.e)(t,"global")){const e=(0,At.l)(window,t.global);void 0!==e&&this.setVariable(t.variable,e)}else{if((0,At.e)(t,"plugin")){if("customVariables"===t.plugin)return this.resolveCustomVariables(t);try{const{default:e}=await n(444)(`./${t.plugin}`);return void await e(this,t.pluginArgs)}catch{return void this.addDebugMessage("integration plugin not found ",t.plugin)}}this.addDebugMessage("Integration config included an unexpected format",t)}}resolveCustomVariables(t){if((0,At.e)(t,"criteria")&&(0,At.e)(t,"pluginArgs")&&t.criteria.every((t=>{let{field:e,value:i}=t;if("igrpSiteId"===e)for(const t of i.split(",")){var r;if(t.toString()===(null==(r=this.trackedSites.currentSiteId)?void 0:r.toString()))return!0}return!1}))){const[e=[],i=[]]=t.pluginArgs;if(Array.isArray(e))for(const t of e)this.resolveCookie(t);if(Array.isArray(i))for(const t of i)this.resolveVariable(t)}}resolveCookie(t){let{name:e,cookie:i,scope:r}=t;i&&this.setVariable(e,(0,P.e)(i),r)}resolveVariable(t){let{path:e,name:i,scope:r}=t;e&&this.setVariable(i,(0,At.l)(window,e),r)}findAndReplaceNumbers(){Zi(this,Hi).findNumbersInPage(this.config,Qi(this,Ji,sr).bind(this))}enableDebugMode(t){this.debugToken=t}addDebugMessage(){if(!1!==this.debugMode){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];this.debugMessages.push([...e])}}addCallback(t){Zi(this,qi).push(t)}async autoPopulateInput(t){await(0,Gi.nP)(this.visitor,"id"),Xe(t).forEach((t=>{t instanceof HTMLInputElement&&(t.value=this.visitor.id)}))}triggerAllocationCallback(t){Zi(this,qi).forEach((e=>{if("function"==typeof e)try{e(t)}catch(t){this.addDebugMessage("Error occurred in client callback",t)}})),Yi(this,qi,[])}ignoreElement(t){t instanceof HTMLAnchorElement&&Zi(this,Hi).ignoreElement(new Re(t,this.config)),Zi(this,Hi).ignoreElement(new _e(t,"",this.config)),t.childNodes.forEach((t=>{Zi(this,Hi).ignoreElement(new _e(t,"",this.config))}))}},_i=er(zi.prototype,"storage",[Si],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ri=er(zi.prototype,"visitor",[ki],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),xi=er(zi.prototype,"channelDetection",[Ti],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Vi=er(zi.prototype,"trackedSites",[Oi],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),$i=er(zi.prototype,"customVariables",[Ni],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Wi=er(zi.prototype,"channels",[Ai],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ui=er(zi.prototype,"sites",[Pi],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Fi=er(zi.prototype,"integrations",[Ii],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),er(zi.prototype,"run",[Mi],Object.getOwnPropertyDescriptor(zi.prototype,"run"),zi.prototype),er(zi.prototype,"getVariable",[p,g],Object.getOwnPropertyDescriptor(zi.prototype,"getVariable"),zi.prototype),er(zi.prototype,"getVisitorId",[p,g],Object.getOwnPropertyDescriptor(zi.prototype,"getVisitorId"),zi.prototype),er(zi.prototype,"setVariable",[p],Object.getOwnPropertyDescriptor(zi.prototype,"setVariable"),zi.prototype),er(zi.prototype,"getAllocatedNumbers",[p,g],Object.getOwnPropertyDescriptor(zi.prototype,"getAllocatedNumbers"),zi.prototype),er(zi.prototype,"getNumberElements",[p,g],Object.getOwnPropertyDescriptor(zi.prototype,"getNumberElements"),zi.prototype),er(zi.prototype,"init",[p,g,function(t,e){Object.defineProperty(t[e],f,{value:!0})}],Object.getOwnPropertyDescriptor(zi.prototype,"init"),zi.prototype),er(zi.prototype,"track",[p,g],Object.getOwnPropertyDescriptor(zi.prototype,"track"),zi.prototype),er(zi.prototype,"trackVisitor",[ji],Object.getOwnPropertyDescriptor(zi.prototype,"trackVisitor"),zi.prototype),er(zi.prototype,"setStorage",[p],Object.getOwnPropertyDescriptor(zi.prototype,"setStorage"),zi.prototype),er(zi.prototype,"trigger",[p],Object.getOwnPropertyDescriptor(zi.prototype,"trigger"),zi.prototype),er(zi.prototype,"onPageLoad",[Ci],Object.getOwnPropertyDescriptor(zi.prototype,"onPageLoad"),zi.prototype),er(zi.prototype,"findAndReplaceNumbers",[p],Object.getOwnPropertyDescriptor(zi.prototype,"findAndReplaceNumbers"),zi.prototype),er(zi.prototype,"enableDebugMode",[p],Object.getOwnPropertyDescriptor(zi.prototype,"enableDebugMode"),zi.prototype),er(zi.prototype,"addCallback",[p],Object.getOwnPropertyDescriptor(zi.prototype,"addCallback"),zi.prototype),er(zi.prototype,"autoPopulateInput",[p,g],Object.getOwnPropertyDescriptor(zi.prototype,"autoPopulateInput"),zi.prototype),er(zi.prototype,"triggerAllocationCallback",[Di,Li],Object.getOwnPropertyDescriptor(zi.prototype,"triggerAllocationCallback"),zi.prototype),er(zi.prototype,"ignoreElement",[p],Object.getOwnPropertyDescriptor(zi.prototype,"ignoreElement"),zi.prototype),zi);async function sr(t){if(this.addDebugMessage("Processing numbers:",t),this.isSpider)return;if(await(0,Gi.nP)(this,"installationId",5e3),null===this.installationId)return void this.addDebugMessage("Installation ID not set when attempting to allocate numbers");let e=null;this.integrationsResolved&&(e=this.customVariables.getAll()),this.visitor&&this.installationId&&t.length>0&&t.forEach((t=>{var i;this.numberAllocation.getAllocatedNumber(t.number,{igrp:this.installationId,...null==(i=this.visitor)?void 0:i.getAllocateParams()},e).then((e=>{!0===this.numberAllocation.isEnabled&&t.replaceNumber(e,this.config),this.triggerAllocationCallback([t])}))}))}if((0,At.e)(window._its,"loaded"))throw new Error("Infinity Tracking JS was loaded twice");const{queue:or=[]}=window._its||{},ar=new nr(or);window._its&&(window._its._s=ar,window._its.loaded=!0,window._its._debugToken&&ar.enableDebugMode(window._its._debugToken)),ar.run()})()})();